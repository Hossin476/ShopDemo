import{a as ge}from"./chunk-MSF6RG3F.js";import{a as oe,b as ae,d as le,f as se,h as ce,l as de,m as pe,n as me,p as ue}from"./chunk-XPUYCRUD.js";import{a as fe}from"./chunk-FA34UKES.js";import{C as v,Da as Z,E as d,Ea as ee,F as I,Fa as te,G as g,Ga as ie,H as R,Ha as ne,I as O,J as x,K as y,Ka as re,L as a,La as E,M as r,Ma as S,N as m,O as T,P as u,Q as p,R as l,S as _,T as f,U as F,V as M,W as k,Y as q,Z as U,ea as X,fa as b,la as $,n as B,o as h,p as C,qa as z,r as w,ra as G,sa as J,ta as K,u as H,ua as Q,v as o,x as A,xa as Y,y as P}from"./chunk-OO7MTYIC.js";function _e(n,i){if(n&1){let t=T();a(0,"button",8),u("click",function(){h(t);let s=p().$implicit,c=p();return C(c.goToPage(s))}),l(1),r()}if(n&2){let t=p().$implicit,e=p();I("bg-gray-900",t===e.currentPage)("text-white",t===e.currentPage)("border",t!==e.currentPage)("border-gray-300",t!==e.currentPage)("cursor-pointer",t!==e.currentPage),o(),f(" ",t," ")}}function Pe(n,i){n&1&&(a(0,"span",7),l(1,"..."),r())}function ve(n,i){if(n&1&&v(0,_e,2,11,"button",6)(1,Pe,2,0,"span",7),n&2){let t=i.$implicit;g(t>0?0:1)}}var D=class n{currentPage=1;totalPages=1;itemsPerPage=6;totalItems=0;pageChange=new w;chevronLeftIcon=K;chevronRightIcon=Q;startItem;endItem;ngOnChanges(){this.calculatePagination()}calculatePagination(){this.startItem=(this.currentPage-1)*this.itemsPerPage+1,this.endItem=Math.min(this.currentPage*this.itemsPerPage,this.totalItems)}get pages(){let i=[];if(this.totalPages<=5)for(let e=1;e<=this.totalPages;e++)i.push(e);else{i.push(1);let e=Math.max(2,this.currentPage-1),s=Math.min(this.totalPages-1,this.currentPage+1);this.currentPage<=2&&(s=Math.min(this.totalPages-1,4)),this.currentPage>=this.totalPages-1&&(e=Math.max(2,this.totalPages-3)),e>2&&i.push(-1);for(let c=e;c<=s;c++)i.push(c);s<this.totalPages-1&&i.push(-2),i.push(this.totalPages)}return i}goToPage(i){i>=1&&i<=this.totalPages&&i!==this.currentPage&&this.pageChange.emit(i)}goToPreviousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}goToNextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=P({type:n,selectors:[["app-pagination"]],inputs:{currentPage:"currentPage",totalPages:"totalPages",itemsPerPage:"itemsPerPage",totalItems:"totalItems"},outputs:{pageChange:"pageChange"},features:[B],decls:19,vars:27,consts:[[1,"flex","items-center","justify-between","py-3"],[1,"text-sm","text-gray-500"],[1,"font-medium"],[1,"flex","items-center","space-x-1"],[1,"px-2","py-1","rounded","border","border-gray-300","flex","items-center","justify-center","transition-colors","duration-200",3,"click","disabled"],[1,"w-4","h-4",3,"name"],[1,"px-3","py-1","rounded","text-sm","transition-colors","duration-200",3,"bg-gray-900","text-white","border","border-gray-300","cursor-pointer"],[1,"px-1"],[1,"px-3","py-1","rounded","text-sm","transition-colors","duration-200",3,"click"]],template:function(t,e){t&1&&(a(0,"div",0)(1,"div",1),l(2," Showing "),a(3,"span",2),l(4),r(),l(5," to "),a(6,"span",2),l(7),r(),l(8," of "),a(9,"span",2),l(10),r(),l(11," results "),r(),a(12,"div",3)(13,"button",4),u("click",function(){return e.goToPreviousPage()}),m(14,"i-lucide",5),r(),x(15,ve,2,1,null,null,O),a(17,"button",4),u("click",function(){return e.goToNextPage()}),m(18,"i-lucide",5),r()()()),t&2&&(o(4),_(e.startItem),o(3),_(e.endItem),o(3),_(e.totalItems),o(3),I("opacity-50",e.currentPage===1)("cursor-not-allowed",e.currentPage===1)("bg-gray-200",e.currentPage===1)("hover:bg-gray-300",e.currentPage!==1)("cursor-pointer",e.currentPage!==1),d("disabled",e.currentPage===1),o(),d("name",e.chevronLeftIcon),o(),y(e.pages),o(2),I("opacity-50",e.currentPage===e.totalPages)("cursor-not-allowed",e.currentPage===e.totalPages)("bg-gray-200",e.currentPage===e.totalPages)("hover:bg-gray-300",e.currentPage!==e.totalPages)("cursor-pointer",e.currentPage!==e.totalPages),d("disabled",e.currentPage===e.totalPages),o(),d("name",e.chevronRightIcon))},dependencies:[b,S,E],styles:["button[_ngcontent-%COMP%]{transition:background-color .2s,opacity .2s}button[_ngcontent-%COMP%]:not([disabled]):hover{background-color:#f3f4f6}"]})};function xe(n,i){if(n&1){let t=T();a(0,"button",21),u("click",function(){h(t);let s=p();return C(s.resetFilters())}),m(1,"i-lucide",22),l(2," Clear Filters "),r()}if(n&2){let t=p();o(),d("name",t.clearIcon)}}function ye(n,i){if(n&1){let t=T();a(0,"label",12)(1,"span",23),l(2),r(),a(3,"input",24),k("ngModelChange",function(s){let c=h(t).$implicit,W=p();return M(W.selectedCategories[c],s)||(W.selectedCategories[c]=s),C(s)}),u("change",function(){h(t);let s=p();return C(s.applyFilters())}),r()()}if(n&2){let t=i.$implicit,e=p();o(2),_(t),o(),d("value",t),F("ngModel",e.selectedCategories[t])}}var L=class n{filtersChanged=new w;filterIcon=Y;clearIcon=re;chevronDownIcon=J;uniqueCategories=["accessories","electronics","home","clothing"];selectedCategories={};priceRange={min:null,max:null};selectedRating=0;constructor(){}ngOnInit(){}applyFilters(){let i={categories:Object.keys(this.selectedCategories).filter(t=>this.selectedCategories[t]),minPrice:this.priceRange.min??0,maxPrice:this.priceRange.max??Number.MAX_SAFE_INTEGER,rating:this.selectedRating};this.filtersChanged.emit(i)}resetFilters(){this.selectedCategories={},this.priceRange={min:null,max:null},this.selectedRating=0,this.applyFilters()}hasActiveFilters(){return Object.keys(this.selectedCategories).length>0||this.priceRange.min!==null||this.priceRange.max!==null||this.selectedRating>0}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=P({type:n,selectors:[["app-filter"]],outputs:{filtersChanged:"filtersChanged"},decls:47,vars:12,consts:[[1,"bg-white","border","border-gray-200","rounded-2xl","shadow-lg","overflow-hidden"],[1,"bg-gradient-to-r","from-blue-50","to-indigo-50","p-6"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-800","flex","items-center","space-x-3"],[1,"w-6","h-6","text-blue-600",3,"name"],[1,"group","flex","items-center","text-sm","font-medium","text-red-600","hover:text-red-800","transition-colors","cursor-pointer"],[1,"grid","md:grid-cols-3","gap-6","p-6","bg-white"],[1,"space-y-4"],[1,"flex","items-center","justify-between","border-b","pb-2","cursor-pointer"],[1,"text-lg","font-semibold","text-gray-700"],[1,"w-5","h-5","text-gray-500",3,"name"],[1,"space-y-2","max-h-48","overflow-y-auto"],[1,"flex","items-center","justify-between","cursor-pointer","hover:bg-gray-100","p-2","rounded-lg","transition-colors","group"],[1,"flex","items-center","space-x-3"],[1,"relative","flex-1"],["type","number","placeholder","Min",1,"w-full","pl-8","pr-3","py-2","border","border-gray-300","rounded-lg","text-sm","focus:outline-none","transition-all","cursor-pointer",3,"ngModelChange","change","ngModel"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400"],[1,"text-gray-400"],["type","number","placeholder","Max",1,"w-full","pl-8","pr-3","py-2","border","border-gray-300","rounded-lg","text-sm","focus:outline-none","transition-all","cursor-pointer",3,"ngModelChange","change","ngModel"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","text-sm","transition-all","cursor-pointer","focus:outline-none",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"group","flex","items-center","text-sm","font-medium","text-red-600","hover:text-red-800","transition-colors","cursor-pointer",3,"click"],[1,"w-4","h-4","mr-2","group-hover:rotate-180","transition-transform",3,"name"],[1,"text-sm","text-gray-600","group-hover:text-blue-600"],["type","checkbox",1,"form-checkbox","h-4","w-4","text-blue-600","rounded","focus:outline-none","transition-all","cursor-pointer",3,"ngModelChange","change","value","ngModel"]],template:function(t,e){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),m(4,"i-lucide",4),a(5,"span"),l(6,"Filter Products"),r()(),v(7,xe,3,1,"button",5),r()(),a(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),l(12,"Categories"),r(),m(13,"i-lucide",10),r(),a(14,"div",11),x(15,ye,4,3,"label",12,O),r()(),a(17,"div",7)(18,"div",8)(19,"label",9),l(20,"Price Range"),r(),m(21,"i-lucide",10),r(),a(22,"div",13)(23,"div",14)(24,"input",15),k("ngModelChange",function(c){return M(e.priceRange.min,c)||(e.priceRange.min=c),c}),u("change",function(){return e.applyFilters()}),r(),a(25,"span",16),l(26,"$"),r()(),a(27,"span",17),l(28,"-"),r(),a(29,"div",14)(30,"input",18),k("ngModelChange",function(c){return M(e.priceRange.max,c)||(e.priceRange.max=c),c}),u("change",function(){return e.applyFilters()}),r(),a(31,"span",16),l(32,"$"),r()()()(),a(33,"div",7)(34,"div",8)(35,"label",9),l(36,"Minimum Rating"),r(),m(37,"i-lucide",10),r(),a(38,"select",19),k("ngModelChange",function(c){return M(e.selectedRating,c)||(e.selectedRating=c),c}),u("change",function(){return e.applyFilters()}),a(39,"option",20),l(40,"Any Rating"),r(),a(41,"option",20),l(42,"3+ Stars"),r(),a(43,"option",20),l(44,"4+ Stars"),r(),a(45,"option",20),l(46,"5 Stars"),r()()()()()),t&2&&(o(4),d("name",e.filterIcon),o(3),g(e.hasActiveFilters()?7:-1),o(6),d("name",e.chevronDownIcon),o(2),y(e.uniqueCategories),o(6),d("name",e.chevronDownIcon),o(3),F("ngModel",e.priceRange.min),o(6),F("ngModel",e.priceRange.max),o(7),d("name",e.chevronDownIcon),o(),F("ngModel",e.selectedRating),o(),d("value",0),o(2),d("value",3),o(2),d("value",4),o(2),d("value",5))},dependencies:[b,ue,pe,me,ae,ce,oe,de,le,se,S,E],encapsulation:2})};function be(n,i){if(n&1&&(a(0,"div",3),m(1,"i-lucide",6),l(2," Featured "),r()),n&2){let t=p();o(),d("name",t.awardIcon)}}function Se(n,i){if(n&1&&m(0,"i-lucide",16),n&2){let t=p(2);d("name",t.starIcon)}}function we(n,i){if(n&1&&m(0,"i-lucide",16),n&2){let t=p(2);d("name",t.starHalfIcon)}}function Te(n,i){if(n&1&&m(0,"i-lucide",17),n&2){let t=p(2);d("name",t.starOffIcon)}}function Ie(n,i){if(n&1&&v(0,Se,1,1,"i-lucide",16)(1,we,1,1,"i-lucide",16)(2,Te,1,1,"i-lucide",17),n&2){let t,e=i.$implicit;g((t=e)===1?0:t===.5?1:t===0?2:-1)}}function Ee(n,i){if(n&1&&(a(0,"div"),l(1),r()),n&2){let t=p();o(),f("Display: ",t.product.specs.display,"")}}function Fe(n,i){if(n&1&&(a(0,"div"),l(1),r()),n&2){let t=p();o(),f("Processor: ",t.product.specs.processor,"")}}function Me(n,i){if(n&1&&(a(0,"div"),l(1),r()),n&2){let t=p();o(),f("Storage: ",t.product.specs.storage,"")}}var V=class n{product;isAddedToCart=!1;addToCart=new w;productSelected=new w;starIcon=ie;starHalfIcon=ee;starOffIcon=te;cartIcon=Z;tagIcon=ne;awardIcon=z;checkIcon=G;generateStars(i){let t=Math.floor(i),e=i%1>=.5,s=5-t-(e?1:0);return[...Array(t).fill(1),...e?[.5]:[],...Array(s).fill(0)]}onAddToCart(i){i.stopPropagation(),this.addToCart.emit()}onProductSelect(){this.productSelected.emit(this.product.id)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=P({type:n,selectors:[["app-product-card"]],inputs:{product:"product",isAddedToCart:"isAddedToCart"},outputs:{addToCart:"addToCart",productSelected:"productSelected"},decls:28,vars:20,consts:[[1,"bg-white","rounded-lg","overflow-hidden","shadow-sm","hover:shadow-md","transition-shadow","duration-300","cursor-pointer",3,"click"],[1,"relative","h-56","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"absolute","top-3","left-3","bg-black/70","text-white","text-xs","px-2","py-1","rounded","flex","items-center"],[1,"p-4"],[1,"text-xs","text-gray-500","uppercase","mb-1","flex","items-center"],[1,"w-3","h-3","mr-1",3,"name"],[1,"text-lg","font-medium","text-gray-900","mb-1"],[1,"flex","items-center","mb-2"],[1,"flex","text-yellow-400","mr-1"],[1,"text-xs","text-gray-500"],[1,"text-sm","text-gray-600","mb-3","line-clamp-2"],[1,"grid","grid-cols-2","gap-x-2","gap-y-1","text-xs","text-gray-600","mb-2"],[1,"text-lg","mb-3","line-clamp-2","font-bold"],[1,"w-full","cursor-pointer","bg-gray-900","hover:bg-black","text-white","py-2","px-4","rounded","text-sm","font-medium","transition-colors","flex","items-center","justify-center",3,"click"],[1,"w-4","h-4","mr-2",3,"name"],[1,"w-4","h-4","text-yellow-400",3,"name"],[1,"w-4","h-4","text-gray-300",3,"name"]],template:function(t,e){t&1&&(a(0,"div",0),u("click",function(){return e.onProductSelect()}),a(1,"div",1),m(2,"img",2),v(3,be,3,1,"div",3),r(),a(4,"div",4)(5,"div",5),m(6,"i-lucide",6),l(7),r(),a(8,"h2",7),l(9),r(),a(10,"div",8)(11,"div",9),x(12,Ie,3,1,null,null,R),r(),a(14,"span",10),l(15),r()(),a(16,"p",11),l(17),r(),a(18,"div",12),v(19,Ee,2,1,"div")(20,Fe,2,1,"div")(21,Me,2,1,"div"),r(),a(22,"div",13),l(23),q(24,"currency"),r(),a(25,"button",14),u("click",function(c){return e.onAddToCart(c)}),m(26,"i-lucide",15),l(27),r()()()),t&2&&(o(2),d("src",e.product.imageUrl,H)("alt",e.product.name),o(),g(e.product.featured?3:-1),o(3),d("name",e.tagIcon),o(),f(" ",e.product.category," "),o(2),_(e.product.name),o(3),y(e.generateStars(e.product.rating)),o(3),f("",e.product.reviews," reviews"),o(2),_(e.product.description),o(2),g(e.product.specs.display?19:-1),o(),g(e.product.specs.processor?20:-1),o(),g(e.product.specs.storage?21:-1),o(2),f(" Price: ",U(24,18,e.product.price)," "),o(2),I("bg-green-600",e.isAddedToCart)("hover:bg-green-700",e.isAddedToCart),o(),d("name",e.isAddedToCart?e.checkIcon:e.cartIcon),o(),f(" ",e.isAddedToCart?"Added to Cart":"Add to Cart"," "))},dependencies:[b,X,S,E],encapsulation:2})};function ke(n,i){if(n&1){let t=T();a(0,"app-product-card",8),u("addToCart",function(){let s=h(t).$implicit,c=p();return C(c.addToCart(s))})("productSelected",function(s){h(t);let c=p();return C(c.navigateToProductDetail(s))}),r()}if(n&2){let t=i.$implicit,e=p();d("product",t)("isAddedToCart",e.addedToCart[t.id])}}var Ce=class n{constructor(i,t,e){this.productService=i;this.cartService=t;this.router=e}allProducts=[];filteredProducts=[];products=[];addedToCart={};currentPage=1;itemsPerPage=6;totalPages=0;ngOnInit(){this.productService.getProducts().subscribe(i=>{this.allProducts=i,this.filteredProducts=i,this.updateDisplayedProducts(),this.updateTotalPages(),i.forEach(t=>{this.addedToCart[t.id]=!1})})}onFiltersChanged(i){this.filteredProducts=this.allProducts.filter(t=>{let e=i.categories.length===0||i.categories.includes(t.category),s=t.price>=i.minPrice&&t.price<=i.maxPrice,c=t.rating>=i.rating;return e&&s&&c}),this.currentPage=1,this.updateDisplayedProducts(),this.updateTotalPages()}onPageChange(i){this.currentPage=i,this.updateDisplayedProducts(),window.scrollTo({top:0,behavior:"smooth"})}navigateToProductDetail(i){this.router.navigate(["/products",i])}updateDisplayedProducts(){let i=(this.currentPage-1)*this.itemsPerPage,t=i+this.itemsPerPage;this.products=this.filteredProducts.slice(i,t)}updateTotalPages(){this.totalPages=Math.ceil(this.filteredProducts.length/this.itemsPerPage)}addToCart(i){this.cartService.addToCart(i,1),this.addedToCart[i.id]=!0,setTimeout(()=>{this.addedToCart[i.id]=!1},2500)}static \u0275fac=function(t){return new(t||n)(A(ge),A(fe),A($))};static \u0275cmp=P({type:n,selectors:[["app-product-list"]],decls:10,vars:4,consts:[[1,"bg-gray-50","min-h-screen","py-8","px-4"],[3,"filtersChanged"],[1,"mt-10"],[1,"text-2xl","font-medium","text-center","mb-8","text-gray-800"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[3,"product","isAddedToCart"],[1,"mt-8"],[3,"pageChange","currentPage","totalPages","itemsPerPage","totalItems"],[3,"addToCart","productSelected","product","isAddedToCart"]],template:function(t,e){t&1&&(a(0,"div",0)(1,"app-filter",1),u("filtersChanged",function(c){return e.onFiltersChanged(c)}),r(),a(2,"div",2)(3,"h1",3),l(4,"Products"),r(),a(5,"div",4),x(6,ke,1,2,"app-product-card",5,R),r()(),a(8,"div",6)(9,"app-pagination",7),u("pageChange",function(c){return e.onPageChange(c)}),r()()()),t&2&&(o(6),y(e.products),o(3),d("currentPage",e.currentPage)("totalPages",e.totalPages)("itemsPerPage",e.itemsPerPage)("totalItems",e.filteredProducts.length))},dependencies:[b,S,D,L,V],encapsulation:2})};export{Ce as ProductListComponent};
