import{a as M}from"./chunk-FA34UKES.js";import{Aa as $,C as b,Ca as V,E as d,G as y,Ia as q,J as I,K as w,L as i,La as L,M as e,Ma as j,N as p,O as f,P as _,Q as l,R as r,S as C,T as u,fa as E,ma as k,o as x,p as v,pa as T,u as g,v as o,x as h,y as S,ya as F}from"./chunk-OO7MTYIC.js";var O=(a,n)=>n.product.id;function D(a,n){if(a&1&&(i(0,"div",2)(1,"div",3),p(2,"i-lucide",4),e(),i(3,"h2",5),r(4,"Your cart is empty"),e(),i(5,"p",6),r(6,"Looks like you haven't added any products to your cart yet."),e(),i(7,"a",7),r(8," Continue Shopping "),e()()),a&2){let t=l();o(2),d("name",t.bagIcon)}}function Q(a,n){if(a&1&&(i(0,"div",32),r(1),e()),a&2){let t=l().$implicit;o(),u(" $",(t.product.discountPrice||t.product.price).toFixed(2)," each ")}}function A(a,n){if(a&1){let t=f();i(0,"div",9)(1,"div",21),p(2,"img",22),e(),i(3,"div",23)(4,"h3",24),r(5),e(),i(6,"p",25),r(7),e()(),i(8,"div",26)(9,"button",27),_("click",function(){let m=x(t).$implicit,s=l(2);return v(s.updateQuantity(m,m.quantity-1))}),p(10,"i-lucide",28),e(),i(11,"span",29),r(12),e(),i(13,"button",27),_("click",function(){let m=x(t).$implicit,s=l(2);return v(s.updateQuantity(m,m.quantity+1))}),p(14,"i-lucide",28),e()(),i(15,"div",30)(16,"div",31),r(17),e(),b(18,Q,2,1,"div",32),e(),i(19,"button",33),_("click",function(){let m=x(t).$implicit,s=l(2);return v(s.removeItem(m.product.id))}),p(20,"i-lucide",34),e()()}if(a&2){let t=n.$implicit,c=l(2);o(2),d("src",t.product.imageUrl,g)("alt",t.product.name),o(3),C(t.product.name),o(2),C(t.product.category),o(3),d("name",c.minusIcon),o(2),C(t.quantity),o(2),d("name",c.plusIcon),o(3),u(" $",((t.product.discountPrice||t.product.price)*t.quantity).toFixed(2)," "),o(),y(t.quantity>1?18:-1),o(2),d("name",c.trashIcon)}}function N(a,n){if(a&1){let t=f();i(0,"div",8),I(1,A,21,10,"div",9,O),e(),i(3,"div",10)(4,"h2",11),r(5,"Order Summary"),e(),i(6,"div",12)(7,"span",13),r(8),e(),i(9,"span"),r(10),e()(),i(11,"div",12)(12,"span",13),r(13,"Tax (8%)"),e(),i(14,"span"),r(15),e()(),i(16,"div",14)(17,"span"),r(18,"Total"),e(),i(19,"span"),r(20),e()()(),i(21,"div",15)(22,"button",16),_("click",function(){x(t);let m=l();return v(m.clearCart())}),p(23,"i-lucide",17),r(24," Clear Cart "),e(),i(25,"div",18)(26,"a",19),r(27," Continue Shopping "),e(),i(28,"a",20),r(29," Proceed to Checkout "),e()()()}if(a&2){let t=l();o(),w(t.cartItems),o(7),u("Subtotal (",t.itemCount," items)"),o(2),u("$",t.subtotal.toFixed(2),""),o(5),u("$",t.tax.toFixed(2),""),o(5),u("$",t.total.toFixed(2),""),o(3),d("name",t.trashIcon)}}var P=class a{constructor(n){this.cartService=n}cartItems=[];trashIcon=q;plusIcon=$;minusIcon=F;bagIcon=V;ngOnInit(){this.cartService.cartItems$.subscribe(n=>{this.cartItems=n})}get subtotal(){return this.cartItems.reduce((n,t)=>{let c=t.product.discountPrice||t.product.price;return n+c*t.quantity},0)}get tax(){return this.subtotal*.08}get total(){return this.subtotal+this.tax}get itemCount(){return this.cartItems.reduce((n,t)=>n+t.quantity,0)}updateQuantity(n,t){if(t<=0){this.removeItem(n.product.id);return}this.cartService.updateCartItemQuantity(n.product.id,t)}removeItem(n){this.cartService.removeFromCart(n)}clearCart(){this.cartService.clearCart()}static \u0275fac=function(t){return new(t||a)(h(M))};static \u0275cmp=S({type:a,selectors:[["app-cart"]],decls:5,vars:1,consts:[[1,"bg-white","rounded-lg","shadow-sm","p-6","max-w-4xl","my-20","mx-auto"],[1,"text-2xl","font-medium","mb-6"],[1,"text-center","py-12"],[1,"flex","justify-center","mb-4"],[1,"w-16","h-16","text-gray-300",3,"name"],[1,"text-xl","font-medium","text-gray-700","mb-2"],[1,"text-gray-500","mb-6"],["routerLink","/",1,"bg-gray-900","text-white","px-6","py-2","rounded-lg","inline-block","hover:bg-black","transition-colors"],[1,"border-b","border-gray-200","pb-4","mb-4"],[1,"flex","items-center","py-4","border-b","border-gray-100","last:border-0"],[1,"mb-6"],[1,"text-lg","font-medium","mb-4"],[1,"flex","justify-between","mb-2"],[1,"text-gray-600"],[1,"flex","justify-between","font-medium","text-lg","mt-4","pt-4","border-t","border-gray-200"],[1,"flex","justify-between"],[1,"text-gray-500","cursor-pointer","hover:text-gray-700","flex","items-center",3,"click"],[1,"w-4","h-4","mr-1",3,"name"],[1,"flex","space-x-4"],["routerLink","/",1,"px-4","py-2","border","border-gray-300","rounded","hover:bg-gray-50","transition-colors"],["routerLink","/checkout",1,"px-4","py-2","bg-gray-900","text-white","rounded","hover:bg-black","transition-colors"],[1,"w-20","h-20","rounded","overflow-hidden","flex-shrink-0"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"ml-4","flex-grow"],[1,"text-base","font-medium"],[1,"text-sm","text-gray-500"],[1,"flex","items-center","border","border-gray-200","rounded"],[1,"px-2","py-1","text-gray-600","hover:bg-gray-100",3,"click"],[1,"w-4","cursor-pointer","h-4",3,"name"],[1,"px-3","py-1","text-center","min-w-[40px]"],[1,"ml-6","text-right","min-w-[100px]"],[1,"font-medium"],[1,"text-xs","text-gray-500"],[1,"ml-4","text-gray-400","hover:text-red-500","p-1",3,"click"],[1,"w-5","cursor-pointer","h-5",3,"name"]],template:function(t,c){t&1&&(i(0,"div",0)(1,"h1",1),r(2,"Your Cart"),e(),b(3,D,9,1,"div",2)(4,N,30,5),e()),t&2&&(o(3),y(c.cartItems.length===0?3:4))},dependencies:[E,T,k,j,L],encapsulation:2})};export{P as CartComponent};
